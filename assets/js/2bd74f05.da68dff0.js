"use strict";(self.webpackChunkmy_docs=self.webpackChunkmy_docs||[]).push([[379],{8453:(e,n,r)=>{r.d(n,{R:()=>d,x:()=>l});var s=r(6540);const t={},i=s.createContext(t);function d(e){const n=s.useContext(i);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:d(e.components),s.createElement(i.Provider,{value:n},e.children)}},9756:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>o,contentTitle:()=>l,default:()=>h,frontMatter:()=>d,metadata:()=>s,toc:()=>a});const s=JSON.parse('{"id":"api/Work-In-Process/WOroute","title":"","description":"Work Order Route API","source":"@site/docs/api/Work-In-Process/WOroute.md","sourceDirName":"api/Work-In-Process","slug":"/api/Work-In-Process/WOroute","permalink":"/api/api/Work-In-Process/WOroute","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"","pagination_next":null,"pagination_prev":null}}');var t=r(4848),i=r(8453);const d={title:"",pagination_next:null,pagination_prev:null},l=void 0,o={},a=[{value:"<span>Release Versions</span>",id:"release-versions",level:2},{value:"<span>Authentication - Login API</span>",id:"authentication---login-api",level:2},{value:"Endpoint Details",id:"endpoint-details",level:3},{value:"Request Body",id:"request-body",level:3},{value:"Response Body",id:"response-body",level:3},{value:"<span>Get Work Order Route API</span>",id:"get-work-order-route-api",level:2},{value:"Endpoint Details",id:"endpoint-details-1",level:3},{value:"Request Headers",id:"request-headers",level:3},{value:"Input Properties",id:"input-properties",level:3},{value:"Response Properties",id:"response-properties",level:3},{value:"Location Properties",id:"location-properties",level:3},{value:"Request Body Example",id:"request-body-example",level:3},{value:"Example Input",id:"example-input",level:3},{value:"Example Response",id:"example-response",level:3},{value:"<span>Errors</span>",id:"errors",level:2},{value:"Example Error Responses",id:"example-error-responses",level:3},{value:"Expired Token:",id:"expired-token",level:4},{value:"Invalid Token:",id:"invalid-token",level:4},{value:"Missing Authorization Header:",id:"missing-authorization-header",level:4}];function c(e){const n={code:"code",h2:"h2",h3:"h3",h4:"h4",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("h1",{style:{color:"#0D8CFF"},children:"Work Order Route API"}),"\n",(0,t.jsx)("h2",{children:"Version 1.0 \u2014 October 2024"}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"release-versions",children:(0,t.jsx)("span",{style:{color:"#0D8CFF"},children:"Release Versions"})}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Version"}),(0,t.jsx)(n.th,{children:"Description"}),(0,t.jsx)(n.th,{children:"Author"}),(0,t.jsx)(n.th,{children:"Release Date"})]})}),(0,t.jsx)(n.tbody,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"1.0"}),(0,t.jsx)(n.td,{children:"Get Work Order Route API"}),(0,t.jsx)(n.td,{children:"Sean Kim"}),(0,t.jsx)(n.td,{children:"10/22/2024"})]})})]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"authentication---login-api",children:(0,t.jsx)("span",{style:{color:"#0D8CFF"},children:"Authentication - Login API"})}),"\n",(0,t.jsx)(n.p,{children:"To access the GraphQL APIs, users must first authenticate using the Xemelgo Login REST API."}),"\n",(0,t.jsx)(n.h3,{id:"endpoint-details",children:"Endpoint Details"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"URL:"})," ",(0,t.jsx)(n.code,{children:"https://rest.api.xemelgo.com/login"})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Method:"})," ",(0,t.jsx)(n.code,{children:"POST"})]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"request-body",children:"Request Body"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",children:'{\n  "email": "base64_encoded_email",\n  "password": "base64_encoded_password"\n}\n'})}),"\n",(0,t.jsx)(n.h3,{id:"response-body",children:"Response Body"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",children:'{\n  "AccessToken": "$accessToken",\n  "ExpiresIn": $expiresIn,\n  "TokenType": "Bearer",\n  "RefreshToken": "$refreshToken",\n  "IdToken": "$idToken"\n}\n'})}),"\n",(0,t.jsxs)(n.p,{children:["Use the ",(0,t.jsx)(n.code,{children:"$idToken"})," as the authorization header to make subsequent API requests."]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"get-work-order-route-api",children:(0,t.jsx)("span",{style:{color:"#0D8CFF"},children:"Get Work Order Route API"})}),"\n",(0,t.jsx)(n.p,{children:"Retrieves all work orders, their statuses, and allows filtering by properties."}),"\n",(0,t.jsx)(n.h3,{id:"endpoint-details-1",children:"Endpoint Details"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"URL:"})," ",(0,t.jsx)(n.code,{children:"https://api.xemelgo.com/graphql"})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Method:"})," ",(0,t.jsx)(n.code,{children:"POST"})]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"request-headers",children:"Request Headers"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-http",children:"Authorization: Bearer {IdToken}\n"})}),"\n",(0,t.jsx)(n.h3,{id:"input-properties",children:"Input Properties"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Property"}),(0,t.jsx)(n.th,{children:"Type"}),(0,t.jsx)(n.th,{children:"Description"}),(0,t.jsx)(n.th,{children:"Required"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"number"})}),(0,t.jsx)(n.td,{children:"String"}),(0,t.jsx)(n.td,{children:"Work order number"}),(0,t.jsx)(n.td,{children:"Yes"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"startDate"})}),(0,t.jsx)(n.td,{children:"AWSTimestamp"}),(0,t.jsx)(n.td,{children:"Start date for route"}),(0,t.jsx)(n.td,{children:"No"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"endDate"})}),(0,t.jsx)(n.td,{children:"AWSTimestamp"}),(0,t.jsx)(n.td,{children:"End date for route"}),(0,t.jsx)(n.td,{children:"No"})]})]})]}),"\n",(0,t.jsx)(n.h3,{id:"response-properties",children:"Response Properties"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Property"}),(0,t.jsx)(n.th,{children:"Type"}),(0,t.jsx)(n.th,{children:"Description"}),(0,t.jsx)(n.th,{children:"Required"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"state"})}),(0,t.jsx)(n.td,{children:"String"}),(0,t.jsx)(n.td,{children:"Current state of Work Order at location"}),(0,t.jsx)(n.td,{children:"No"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"startDate"})}),(0,t.jsx)(n.td,{children:"AWSTimestamp"}),(0,t.jsx)(n.td,{children:"First detection timestamp at location"}),(0,t.jsx)(n.td,{children:"No"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"endDate"})}),(0,t.jsx)(n.td,{children:"AWSTimestamp"}),(0,t.jsx)(n.td,{children:"Last detection timestamp at location"}),(0,t.jsx)(n.td,{children:"No"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"location"})}),(0,t.jsx)(n.td,{children:"Object"}),(0,t.jsx)(n.td,{children:"Location where work order was last seen"}),(0,t.jsx)(n.td,{children:"No"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"duration"})}),(0,t.jsx)(n.td,{children:"Number"}),(0,t.jsx)(n.td,{children:"Time spent at that location"}),(0,t.jsx)(n.td,{children:"No"})]})]})]}),"\n",(0,t.jsx)(n.h3,{id:"location-properties",children:"Location Properties"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Property"}),(0,t.jsx)(n.th,{children:"Type"}),(0,t.jsx)(n.th,{children:"Description"}),(0,t.jsx)(n.th,{children:"Required"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"id"})}),(0,t.jsx)(n.td,{children:"String"}),(0,t.jsx)(n.td,{children:"Location identifier"}),(0,t.jsx)(n.td,{children:"Yes"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"name"})}),(0,t.jsx)(n.td,{children:"String"}),(0,t.jsx)(n.td,{children:"Location name"}),(0,t.jsx)(n.td,{children:"No"})]})]})]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h3,{id:"request-body-example",children:"Request Body Example"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-graphql",children:"query workOrderRoute ($number: String!, $startDate: AWSTimestamp, $endDate: AWSTimestamp, $nextToken: String) {\n  workOrderRoute(input: { number: $number, startDate: $startDate, endDate: $endDate, nextToken: $nextToken }) {\n     nextToken\n     route {\n      location {\n        id\n        name\n      },\n      state,\n      startDate,\n      endDate,\n      duration\n    }\n  }\n}\n"})}),"\n",(0,t.jsx)(n.h3,{id:"example-input",children:"Example Input"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",children:'{\n  "number": "WO12345",\n  "startDate": 1719730800000,\n  "endDate": 1719903600000\n}\n'})}),"\n",(0,t.jsx)(n.h3,{id:"example-response",children:"Example Response"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",children:'{\n  "data": {\n    "workOrderRoute": {\n      "route": [\n        {\n          "location": { "id": "Paint", "name": "Paint" },\n          "startDate": 1719864278922,\n          "endDate": 1719864496290,\n          "duration": 217368\n        },\n        {\n          "location": { "id": "Fabrication", "name": "Fabrication" },\n          "startDate": 1719864496290,\n          "endDate": 1719864827571,\n          "duration": 331281\n        },\n        {\n          "location": { "id": "Quality", "name": "Quality" },\n          "startDate": 1719864827571,\n          "endDate": 1719866988210,\n          "duration": 2160639\n        }\n      ]\n    }\n  }\n}\n'})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"errors",children:(0,t.jsx)("span",{style:{color:"#0D8CFF"},children:"Errors"})}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Error"}),(0,t.jsx)(n.th,{children:"Code"}),(0,t.jsx)(n.th,{children:"Description"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Expired token"}),(0,t.jsx)(n.td,{children:"401"}),(0,t.jsx)(n.td,{children:"Unauthorized"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Invalid token"}),(0,t.jsx)(n.td,{children:"401"}),(0,t.jsx)(n.td,{children:"Unauthorized"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Missing Auth Header"}),(0,t.jsx)(n.td,{children:"401"}),(0,t.jsx)(n.td,{children:"Unauthorized"})]})]})]}),"\n",(0,t.jsx)(n.h3,{id:"example-error-responses",children:"Example Error Responses"}),"\n",(0,t.jsx)(n.h4,{id:"expired-token",children:"Expired Token:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",children:'{\n  "errors": [\n    {\n      "errorType": "UnauthorizedException",\n      "message": "Token has expired."\n    }\n  ]\n}\n'})}),"\n",(0,t.jsx)(n.h4,{id:"invalid-token",children:"Invalid Token:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",children:'{\n  "errors": [\n    {\n      "errorType": "UnauthorizedException",\n      "message": "Unable to parse JWT token."\n    }\n  ]\n}\n'})}),"\n",(0,t.jsx)(n.h4,{id:"missing-authorization-header",children:"Missing Authorization Header:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",children:'{\n  "errors": [\n    {\n      "errorType": "UnauthorizedException",\n      "message": "User is not authorized to make this call."\n    }\n  ]\n}\n'})}),"\n",(0,t.jsx)(n.hr,{})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(c,{...e})}):c(e)}}}]);